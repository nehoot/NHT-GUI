-- NEHOOTS GUI
-- LocalScript in StarterPlayerScripts

local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")

local player = Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local humanoid = character:WaitForChild("Humanoid")
local hrp = character:WaitForChild("HumanoidRootPart")

local spinConn, rainbowConn, noclipConn, flyConn, fly2Conn = nil,nil,nil,nil,nil
local isFlying, isFlying2, isNoclip = false, false, false

player.CharacterAdded:Connect(function(char)
    character = char
    humanoid = char:WaitForChild("Humanoid")
    hrp = char:WaitForChild("HumanoidRootPart")
    if spinConn then spinConn:Disconnect() spinConn = nil end
    if rainbowConn then rainbowConn:Disconnect() rainbowConn = nil end
    if flyConn then flyConn:Disconnect() flyConn = nil end
    if fly2Conn then fly2Conn:Disconnect() fly2Conn = nil end
    if noclipConn then noclipConn:Disconnect() noclipConn = nil end
    isFlying = false; isFlying2 = false; isNoclip = false
end)

-- ========== GUI ==========
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "NehootsGui"
screenGui.ResetOnSpawn = false
screenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
screenGui.Parent = player.PlayerGui

-- NHT open button
local openBtn = Instance.new("TextButton")
openBtn.Size = UDim2.new(0, 52, 0, 52)
openBtn.Position = UDim2.new(0, 10, 0.5, -26)
openBtn.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
openBtn.TextColor3 = Color3.new(1,1,1)
openBtn.Text = "NHT"
openBtn.Font = Enum.Font.GothamBold
openBtn.TextSize = 13
openBtn.Parent = screenGui
Instance.new("UICorner", openBtn).CornerRadius = UDim.new(1, 0)
Instance.new("UIStroke", openBtn).Color = Color3.fromRGB(255, 200, 0)
openBtn:FindFirstChildOfClass("UIStroke").Thickness = 2

local dragging, dragStartPos, btnStartPos = false, nil, nil
openBtn.InputBegan:Connect(function(i)
    if i.UserInputType == Enum.UserInputType.MouseButton1 or i.UserInputType == Enum.UserInputType.Touch then
        dragging = true; dragStartPos = i.Position; btnStartPos = openBtn.Position
    end
end)
openBtn.InputEnded:Connect(function(i)
    if i.UserInputType == Enum.UserInputType.MouseButton1 or i.UserInputType == Enum.UserInputType.Touch then
        dragging = false
    end
end)
UserInputService.InputChanged:Connect(function(i)
    if dragging and (i.UserInputType == Enum.UserInputType.MouseMovement or i.UserInputType == Enum.UserInputType.Touch) then
        local d = i.Position - dragStartPos
        openBtn.Position = UDim2.new(btnStartPos.X.Scale, btnStartPos.X.Offset + d.X, btnStartPos.Y.Scale, btnStartPos.Y.Offset + d.Y)
    end
end)

-- ========== MAIN FRAME ==========
-- Frame starts small (just title + 2 accordion headers), grows as panels open
local TITLE_H   = 42
local ACC_H     = 34  -- height of each accordion button
local GAP       = 6   -- gap between elements
local BOTTOM_PAD = 8

local frame = Instance.new("Frame")
frame.Size = UDim2.new(0, 300, 0, TITLE_H + GAP + ACC_H + GAP + ACC_H + BOTTOM_PAD)
frame.Position = UDim2.new(0.5, -150, 0.5, -100)
frame.BackgroundColor3 = Color3.fromRGB(12, 12, 18)
frame.Active = true
frame.Draggable = true
frame.Visible = false
frame.ClipsDescendants = true  -- <-- hides overflow when animating
frame.Parent = screenGui
Instance.new("UICorner", frame).CornerRadius = UDim.new(0, 14)
local frame_stroke = Instance.new("UIStroke", frame)
frame_stroke.Color = Color3.fromRGB(255, 200, 0)
frame_stroke.Thickness = 2

-- Title bar
local titleBar = Instance.new("Frame")
titleBar.Size = UDim2.new(1, 0, 0, TITLE_H)
titleBar.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
titleBar.Parent = frame
Instance.new("UICorner", titleBar).CornerRadius = UDim.new(0, 14)

local titleLabel = Instance.new("TextLabel")
titleLabel.Size = UDim2.new(1, -100, 1, 0)
titleLabel.Position = UDim2.new(0, 10, 0, 0)
titleLabel.BackgroundTransparency = 1
titleLabel.TextColor3 = Color3.fromRGB(255, 200, 0)
titleLabel.Text = "üéÆ NEHOOTS GUI"
titleLabel.Font = Enum.Font.GothamBold
titleLabel.TextSize = 14
titleLabel.TextXAlignment = Enum.TextXAlignment.Left
titleLabel.Parent = titleBar

local contactBtn = Instance.new("TextButton")
contactBtn.Size = UDim2.new(0, 30, 0, 30)
contactBtn.Position = UDim2.new(1, -68, 0, 6)
contactBtn.BackgroundColor3 = Color3.fromRGB(0, 136, 204)
contactBtn.TextColor3 = Color3.new(1,1,1)
contactBtn.Text = "‚úâ"
contactBtn.Font = Enum.Font.GothamBold
contactBtn.TextSize = 14
contactBtn.Parent = titleBar
Instance.new("UICorner", contactBtn).CornerRadius = UDim.new(1, 0)

local closeBtn = Instance.new("TextButton")
closeBtn.Size = UDim2.new(0, 30, 0, 30)
closeBtn.Position = UDim2.new(1, -34, 0, 6)
closeBtn.BackgroundColor3 = Color3.fromRGB(200, 40, 40)
closeBtn.TextColor3 = Color3.new(1,1,1)
closeBtn.Text = "‚úï"
closeBtn.Font = Enum.Font.GothamBold
closeBtn.TextSize = 13
closeBtn.Parent = titleBar
Instance.new("UICorner", closeBtn).CornerRadius = UDim.new(1, 0)

-- ========== CONTACT POPUP ==========
local contactPopup = Instance.new("Frame")
contactPopup.Size = UDim2.new(0, 240, 0, 130)
contactPopup.Position = UDim2.new(0.5, -120, 0.5, -65)
contactPopup.BackgroundColor3 = Color3.fromRGB(12, 12, 18)
contactPopup.Active = true; contactPopup.Draggable = true
contactPopup.Visible = false; contactPopup.ZIndex = 10
contactPopup.Parent = screenGui
Instance.new("UICorner", contactPopup).CornerRadius = UDim.new(0, 14)
local cp_stroke = Instance.new("UIStroke", contactPopup)
cp_stroke.Color = Color3.fromRGB(0, 136, 204); cp_stroke.Thickness = 2

local function cpLabel(props)
    local l = Instance.new("TextLabel")
    for k,v in pairs(props) do l[k] = v end
    l.BackgroundTransparency = 1; l.ZIndex = 10; l.Parent = contactPopup
    return l
end
cpLabel({Size=UDim2.new(1,0,0,32), TextColor3=Color3.fromRGB(0,136,204), Text="‚úâ  Contact", Font=Enum.Font.GothamBold, TextSize=14})
local cpDiv = Instance.new("Frame"); cpDiv.Size=UDim2.new(0.9,0,0,1); cpDiv.Position=UDim2.new(0.05,0,0,32)
cpDiv.BackgroundColor3=Color3.fromRGB(0,136,204); cpDiv.BorderSizePixel=0; cpDiv.ZIndex=10; cpDiv.Parent=contactPopup
cpLabel({Size=UDim2.new(1,-20,0,24),Position=UDim2.new(0,10,0,38),TextColor3=Color3.fromRGB(160,160,160),Text="Telegram",Font=Enum.Font.Gotham,TextSize=11,TextXAlignment=Enum.TextXAlignment.Left})
cpLabel({Size=UDim2.new(1,-20,0,26),Position=UDim2.new(0,10,0,58),TextColor3=Color3.new(1,1,1),Text="@void3x",Font=Enum.Font.GothamBold,TextSize=17,TextXAlignment=Enum.TextXAlignment.Left})
local cpClose = Instance.new("TextButton")
cpClose.Size=UDim2.new(0.88,0,0,28); cpClose.Position=UDim2.new(0.06,0,0,92)
cpClose.BackgroundColor3=Color3.fromRGB(200,40,40); cpClose.TextColor3=Color3.new(1,1,1)
cpClose.Text="Close"; cpClose.Font=Enum.Font.GothamBold; cpClose.TextSize=12; cpClose.ZIndex=10; cpClose.Parent=contactPopup
Instance.new("UICorner", cpClose).CornerRadius=UDim.new(0,8)
contactBtn.MouseButton1Click:Connect(function() contactPopup.Visible = not contactPopup.Visible end)
cpClose.MouseButton1Click:Connect(function() contactPopup.Visible = false end)

-- ========== ACCORDION SYSTEM ==========
-- Tracks each accordion's open height so we can recalculate frame total height
local accordionStates = {} -- {panel, openHeight, isOpen}

local function recalcFrameHeight()
    local h = TITLE_H + GAP
    for _, acc in ipairs(accordionStates) do
        h = h + ACC_H + GAP
        if acc.isOpen then
            h = h + acc.openHeight + GAP
        end
    end
    h = h + BOTTOM_PAD
    TweenService:Create(frame, TweenInfo.new(0.2, Enum.EasingStyle.Quad), {
        Size = UDim2.new(0, 300, 0, h)
    }):Play()
end

local function makeAccordion(labelText, accentColor, yPosOffset, panelHeight, buildContents)
    local accState = {panel=nil, openHeight=panelHeight, isOpen=false}
    table.insert(accordionStates, accState)

    local accBtn = Instance.new("TextButton")
    accBtn.Size = UDim2.new(1, -16, 0, ACC_H)
    accBtn.Position = UDim2.new(0, 8, 0, yPosOffset)
    accBtn.BackgroundColor3 = Color3.fromRGB(22, 22, 32)
    accBtn.TextColor3 = accentColor
    accBtn.Text = "  " .. labelText .. "  ‚ñº"
    accBtn.Font = Enum.Font.GothamBold
    accBtn.TextSize = 13
    accBtn.TextXAlignment = Enum.TextXAlignment.Left
    accBtn.AutoButtonColor = false
    accBtn.Parent = frame
    Instance.new("UICorner", accBtn).CornerRadius = UDim.new(0, 8)
    local acc_s = Instance.new("UIStroke", accBtn)
    acc_s.Color = accentColor; acc_s.Thickness = 1.5

    local arrowLabel = Instance.new("TextLabel")
    arrowLabel.Size = UDim2.new(0, 28, 1, 0)
    arrowLabel.Position = UDim2.new(1, -32, 0, 0)
    arrowLabel.BackgroundTransparency = 1
    arrowLabel.TextColor3 = accentColor
    arrowLabel.Text = "‚ñº"
    arrowLabel.Font = Enum.Font.GothamBold
    arrowLabel.TextSize = 12
    arrowLabel.Parent = accBtn

    local panel = Instance.new("Frame")
    panel.Size = UDim2.new(1, -16, 0, 0)
    panel.Position = UDim2.new(0, 8, 0, yPosOffset + ACC_H + GAP)
    panel.BackgroundColor3 = Color3.fromRGB(18, 18, 26)
    panel.ClipsDescendants = true
    panel.BorderSizePixel = 0
    panel.Parent = frame
    Instance.new("UICorner", panel).CornerRadius = UDim.new(0, 8)
    accState.panel = panel

    buildContents(panel)

    accBtn.MouseButton1Click:Connect(function()
        accState.isOpen = not accState.isOpen
        local arrow = accState.isOpen and "‚ñ≤" or "‚ñº"
        arrowLabel.Text = arrow
        accBtn.Text = "  " .. labelText .. "  " .. arrow
        TweenService:Create(panel, TweenInfo.new(0.2, Enum.EasingStyle.Quad), {
            Size = UDim2.new(1, -16, 0, accState.isOpen and panelHeight or 0)
        }):Play()
        recalcFrameHeight()
    end)

    return panel, accBtn
end

-- ========== SLIDERS ==========
local sliderValues = {}

local function makeSlider(parent, labelText, minVal, maxVal, defaultVal, index)
    local yOff = (index-1)*36+6
    local container = Instance.new("Frame")
    container.Size = UDim2.new(1,-16,0,30)
    container.Position = UDim2.new(0,8,0,yOff)
    container.BackgroundTransparency = 1
    container.Parent = parent

    local label = Instance.new("TextLabel")
    label.Size = UDim2.new(0.58,0,0,14); label.BackgroundTransparency=1
    label.TextColor3=Color3.fromRGB(180,180,180); label.Text=labelText
    label.Font=Enum.Font.Gotham; label.TextSize=11
    label.TextXAlignment=Enum.TextXAlignment.Left; label.Parent=container

    local valLabel = Instance.new("TextLabel")
    valLabel.Size=UDim2.new(0.4,0,0,14); valLabel.Position=UDim2.new(0.6,0,0,0)
    valLabel.BackgroundTransparency=1; valLabel.TextColor3=Color3.fromRGB(255,200,0)
    valLabel.Text=tostring(defaultVal); valLabel.Font=Enum.Font.GothamBold
    valLabel.TextSize=11; valLabel.TextXAlignment=Enum.TextXAlignment.Right; valLabel.Parent=container

    local track = Instance.new("Frame")
    track.Size=UDim2.new(1,0,0,10); track.Position=UDim2.new(0,0,0,18)
    track.BackgroundColor3=Color3.fromRGB(35,35,50); track.BorderSizePixel=0; track.Parent=container
    Instance.new("UICorner",track).CornerRadius=UDim.new(1,0)

    local fill = Instance.new("Frame")
    fill.Size=UDim2.new((defaultVal-minVal)/(maxVal-minVal),0,1,0)
    fill.BackgroundColor3=Color3.fromRGB(255,200,0); fill.BorderSizePixel=0; fill.Parent=track
    Instance.new("UICorner",fill).CornerRadius=UDim.new(1,0)

    local knob = Instance.new("Frame")
    knob.Size=UDim2.new(0,18,0,18); knob.AnchorPoint=Vector2.new(0.5,0.5)
    knob.Position=UDim2.new((defaultVal-minVal)/(maxVal-minVal),0,0.5,0)
    knob.BackgroundColor3=Color3.new(1,1,1); knob.BorderSizePixel=0; knob.Parent=track
    Instance.new("UICorner",knob).CornerRadius=UDim.new(1,0)

    sliderValues[labelText] = defaultVal
    local sliding = false

    local function update(x)
        local rel = math.clamp((x - track.AbsolutePosition.X)/track.AbsoluteSize.X,0,1)
        local v = math.floor(minVal + rel*(maxVal-minVal))
        sliderValues[labelText]=v; valLabel.Text=tostring(v)
        fill.Size=UDim2.new(rel,0,1,0); knob.Position=UDim2.new(rel,0,0.5,0)
    end

    track.InputBegan:Connect(function(i)
        if i.UserInputType==Enum.UserInputType.MouseButton1 or i.UserInputType==Enum.UserInputType.Touch then
            sliding=true; update(i.Position.X)
        end
    end)
    UserInputService.InputChanged:Connect(function(i)
        if sliding and (i.UserInputType==Enum.UserInputType.MouseMovement or i.UserInputType==Enum.UserInputType.Touch) then
            update(i.Position.X)
        end
    end)
    UserInputService.InputEnded:Connect(function(i)
        if i.UserInputType==Enum.UserInputType.MouseButton1 or i.UserInputType==Enum.UserInputType.Touch then
            sliding=false
        end
    end)
end

-- ========== BUILD ACCORDIONS ==========
-- Accordion 1: Settings (y = title + gap = 48)
local SETTINGS_Y = TITLE_H + GAP  -- 48
makeAccordion("‚öôÔ∏è  Settings", Color3.fromRGB(255,200,0), SETTINGS_Y, 216, function(panel)
    makeSlider(panel,"‚ö° SPEED",       16,200,50, 1)
    makeSlider(panel,"ü¶ò JUMP POWER",  50,300,100,2)
    makeSlider(panel,"üíö HEALTH",      1, 500,100,3)
    makeSlider(panel,"üåÄ SPIN (secs)", 1, 30, 5,  4)
    makeSlider(panel,"‚úàÔ∏è FLY SPEED",   10,200,50, 5)
    makeSlider(panel,"üî≠ FOV",         60,120,120,6)
end)

-- Accordion 2: Commands (y = settings_y + ACC_H + gap = 88)
local COMMANDS_Y = SETTINGS_Y + ACC_H + GAP  -- 88

local commands = {
    {"‚ö° Speed",   Color3.fromRGB(0,120,200),  function() humanoid.WalkSpeed = sliderValues["‚ö° SPEED"] or 50 end},
    {"ü¶ò Jump",    Color3.fromRGB(100,0,200),  function() humanoid.JumpPower = sliderValues["ü¶ò JUMP POWER"] or 100 end},
    {"üîÑ Reset",   Color3.fromRGB(80,80,80),   function()
        humanoid.WalkSpeed=16; humanoid.JumpPower=50
        humanoid.MaxHealth=100; humanoid.Health=100
        workspace.CurrentCamera.FieldOfView=70
    end},
    {"‚úàÔ∏è Fly",     Color3.fromRGB(0,180,255),  function()
        isFlying = not isFlying
        if isFlying then
            local bv=Instance.new("BodyVelocity"); bv.Name="FlyVelocity"; bv.Velocity=Vector3.zero
            bv.MaxForce=Vector3.new(1e5,1e5,1e5); bv.Parent=hrp
            local bg=Instance.new("BodyGyro"); bg.Name="FlyGyro"
            bg.MaxTorque=Vector3.new(1e5,1e5,1e5); bg.D=100; bg.Parent=hrp
            humanoid.PlatformStand=true
            flyConn=RunService.Heartbeat:Connect(function()
                if not isFlying then flyConn:Disconnect() return end
                local cam=workspace.CurrentCamera
                local speed=sliderValues["‚úàÔ∏è FLY SPEED"] or 50
                local d=Vector3.zero
                if UserInputService:IsKeyDown(Enum.KeyCode.W) then d+=cam.CFrame.LookVector end
                if UserInputService:IsKeyDown(Enum.KeyCode.S) then d-=cam.CFrame.LookVector end
                if UserInputService:IsKeyDown(Enum.KeyCode.A) then d-=cam.CFrame.RightVector end
                if UserInputService:IsKeyDown(Enum.KeyCode.D) then d+=cam.CFrame.RightVector end
                if UserInputService:IsKeyDown(Enum.KeyCode.Space) then d+=Vector3.new(0,1,0) end
                if UserInputService:IsKeyDown(Enum.KeyCode.LeftShift) then d-=Vector3.new(0,1,0) end
                bv.Velocity=d.Magnitude>0 and d.Unit*speed or Vector3.zero
                bg.CFrame=cam.CFrame
            end)
        else
            humanoid.PlatformStand=false
            local bv=hrp:FindFirstChild("FlyVelocity") if bv then bv:Destroy() end
            local bg=hrp:FindFirstChild("FlyGyro") if bg then bg:Destroy() end
            if flyConn then flyConn:Disconnect() flyConn=nil end
        end
    end},
    {"üõ∏ Fly 2",   Color3.fromRGB(0,220,180),  function()
        isFlying2 = not isFlying2
        if isFlying2 then
            humanoid.PlatformStand=false
            local att=Instance.new("Attachment"); att.Name="Fly2Att"; att.Parent=hrp
            local vf=Instance.new("VectorForce"); vf.Name="Fly2Force"; vf.Attachment0=att
            vf.Force=Vector3.new(0,workspace.Gravity*hrp.AssemblyMass,0)
            vf.RelativeTo=Enum.ActuatorRelativeTo.World; vf.Parent=hrp
            fly2Conn=RunService.Heartbeat:Connect(function()
                if not isFlying2 then fly2Conn:Disconnect() return end
                local cam=workspace.CurrentCamera
                local speed=sliderValues["‚úàÔ∏è FLY SPEED"] or 50
                local d=Vector3.zero
                if UserInputService:IsKeyDown(Enum.KeyCode.W) then d+=cam.CFrame.LookVector end
                if UserInputService:IsKeyDown(Enum.KeyCode.S) then d-=cam.CFrame.LookVector end
                if UserInputService:IsKeyDown(Enum.KeyCode.A) then d-=cam.CFrame.RightVector end
                if UserInputService:IsKeyDown(Enum.KeyCode.D) then d+=cam.CFrame.RightVector end
                if UserInputService:IsKeyDown(Enum.KeyCode.Space) then d+=Vector3.new(0,1,0) end
                if UserInputService:IsKeyDown(Enum.KeyCode.LeftShift) then d-=Vector3.new(0,1,0) end
                hrp.AssemblyLinearVelocity=d.Magnitude>0 and d.Unit*speed or Vector3.zero
                vf.Force=Vector3.new(0,workspace.Gravity*hrp.AssemblyMass,0)
            end)
        else
            local att=hrp:FindFirstChild("Fly2Att") if att then att:Destroy() end
            local vf=hrp:FindFirstChild("Fly2Force") if vf then vf:Destroy() end
            if fly2Conn then fly2Conn:Disconnect() fly2Conn=nil end
        end
    end},
    {"üòá God",     Color3.fromRGB(210,170,0),  function() humanoid.MaxHealth=math.huge; humanoid.Health=math.huge end},
    {"üíö Heal",    Color3.fromRGB(0,170,0),    function()
        local hp=sliderValues["üíö HEALTH"] or 100
        humanoid.MaxHealth=hp; humanoid.Health=hp
    end},
    {"üíÄ Kill",    Color3.fromRGB(180,0,0),    function() humanoid.Health=0 end},
    {"üê≠ Tiny",    Color3.fromRGB(80,200,80),  function() character:ScaleTo(0.3) end},
    {"ü¶ñ Giant",   Color3.fromRGB(200,80,80),  function() character:ScaleTo(3) end},
    {"üìè Normal",  Color3.fromRGB(100,100,100),function() character:ScaleTo(1) end},
    {"üåÄ Spin",    Color3.fromRGB(60,180,255), function()
        if spinConn then spinConn:Disconnect() spinConn=nil return end
        local t,dur=0,sliderValues["üåÄ SPIN (secs)"] or 5
        spinConn=RunService.Heartbeat:Connect(function(dt)
            t+=dt
            if hrp then hrp.CFrame=hrp.CFrame*CFrame.Angles(0,math.rad(10),0) end
            if t>dur then spinConn:Disconnect() spinConn=nil end
        end)
    end},
    {"üåà Rainbow", Color3.fromRGB(255,100,200),function()
        if rainbowConn then rainbowConn:Disconnect() rainbowConn=nil return end
        local t=0
        rainbowConn=RunService.Heartbeat:Connect(function(dt)
            t+=dt
            local c=Color3.fromHSV(t%1,1,1)
            for _,p in ipairs(character:GetDescendants()) do
                if p:IsA("BasePart") and p.Name~="HumanoidRootPart" then p.Color=c end
            end
            if t>10 then rainbowConn:Disconnect() rainbowConn=nil end
        end)
    end},
    {"üöÄ Fling",   Color3.fromRGB(255,60,60),  function()
        local bv=Instance.new("BodyVelocity")
        bv.Velocity=Vector3.new(math.random(-300,300),math.random(400,800),math.random(-300,300))
        bv.MaxForce=Vector3.new(1e5,1e5,1e5); bv.Parent=hrp
        game:GetService("Debris"):AddItem(bv,0.1)
    end},
    {"üëª Noclip",  Color3.fromRGB(150,0,150),  function()
        isNoclip=not isNoclip
        if isNoclip then
            noclipConn=RunService.Stepped:Connect(function()
                for _,p in ipairs(character:GetDescendants()) do
                    if p:IsA("BasePart") then p.CanCollide=false end
                end
            end)
        else
            if noclipConn then noclipConn:Disconnect() noclipConn=nil end
            for _,p in ipairs(character:GetDescendants()) do
                if p:IsA("BasePart") then p.CanCollide=true end
            end
        end
    end},
    {"üî≠ Zoom",    Color3.fromRGB(0,160,100),  function() workspace.CurrentCamera.FieldOfView=sliderValues["üî≠ FOV"] or 120 end},
    {"üëÅÔ∏è Invis",   Color3.fromRGB(60,60,60),   function()
        for _,p in ipairs(character:GetDescendants()) do
            if p:IsA("BasePart") then p.Transparency=p.Transparency==1 and 0 or 1 end
        end
    end},
    {"üí• Explode", Color3.fromRGB(255,120,0),  function()
        local e=Instance.new("Explosion"); e.Position=hrp.Position
        e.BlastRadius=10; e.BlastPressure=0; e.Parent=workspace
    end},
    {"üåô Float",   Color3.fromRGB(80,80,180),  function()
        local bv=Instance.new("BodyVelocity")
        bv.Velocity=Vector3.new(0,sliderValues["‚úàÔ∏è FLY SPEED"] or 30,0)
        bv.MaxForce=Vector3.new(0,1e5,0); bv.Parent=hrp
        game:GetService("Debris"):AddItem(bv,1)
    end},
}

local BTN_ROWS = math.ceil(#commands / 3)
local BTN_PANEL_H = BTN_ROWS * 58 + 8

makeAccordion("üéÆ  Commands", Color3.fromRGB(0,200,120), COMMANDS_Y, BTN_PANEL_H, function(panel)
    local sf=Instance.new("ScrollingFrame")
    sf.Size=UDim2.new(1,0,1,0); sf.BackgroundTransparency=1
    sf.ScrollBarThickness=3; sf.ScrollBarImageColor3=Color3.fromRGB(0,200,120)
    sf.Parent=panel

    local layout=Instance.new("UIGridLayout")
    layout.CellSize=UDim2.new(0.315,0,0,52)
    layout.CellPadding=UDim2.new(0,5,0,6)
    layout.Parent=sf

    layout:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(function()
        sf.CanvasSize=UDim2.new(0,0,0,layout.AbsoluteContentSize.Y+8)
    end)

    for _,cmdData in ipairs(commands) do
        local lbl,col,func=cmdData[1],cmdData[2],cmdData[3]
        local btn=Instance.new("TextButton")
        btn.BackgroundColor3=col; btn.TextColor3=Color3.new(1,1,1)
        btn.Text=lbl; btn.Font=Enum.Font.GothamBold; btn.TextSize=11
        btn.Parent=sf
        Instance.new("UICorner",btn).CornerRadius=UDim.new(0,10)
        btn.MouseButton1Click:Connect(function()
            local ok,err=pcall(func)
            if not ok then warn("NEHOOTS: "..err) end
        end)
        btn.MouseButton1Down:Connect(function()
            TweenService:Create(btn,TweenInfo.new(0.08),{BackgroundColor3=col:Lerp(Color3.new(1,1,1),0.25)}):Play()
        end)
        btn.MouseButton1Up:Connect(function()
            TweenService:Create(btn,TweenInfo.new(0.08),{BackgroundColor3=col}):Play()
        end)
    end
end)

-- ========== TOGGLE ==========
local isOpen = false
openBtn.MouseButton1Click:Connect(function()
    isOpen = not isOpen
    frame.Visible = isOpen
end)
closeBtn.MouseButton1Click:Connect(function()
    isOpen = false
    frame.Visible = false
end)
